const nativeScrollTo=window.scrollTo.bind(window);window.scrollTo=function(e,t){if("string"==typeof e){const t=document.querySelector(e);return void(t&&t.scrollIntoView({behavior:"smooth"}))}nativeScrollTo(e,t)},document.addEventListener("DOMContentLoaded",()=>{document.body.classList.add("loaded");const e=document.querySelector(".hero__overlay");e&&(e.style.visibility="visible",e.classList.add("show"));const t=document.getElementById("current-year");t&&(t.textContent=(new Date).getFullYear());const o=document.getElementById("logo-link");o&&o.addEventListener("click",e=>{e.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}),history.pushState(null,null,"/")});const n=document.querySelector(".site-header");if(n){const e=()=>{const e=n.offsetHeight;n.classList.toggle("header--scrolled",window.scrollY>e)};window.addEventListener("scroll",e),e()}initVideoPlaceholders(),initTestimonials()});const toggleButton=document.getElementById("theme-toggle");if(toggleButton){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e),toggleButton.textContent="dark"===e?"â˜€ï¸":"ðŸŒ™",toggleButton.addEventListener("click",()=>{"dark"===document.documentElement.getAttribute("data-theme")?(document.documentElement.setAttribute("data-theme","light"),localStorage.setItem("theme","light"),toggleButton.textContent="ðŸŒ™"):(document.documentElement.setAttribute("data-theme","dark"),localStorage.setItem("theme","dark"),toggleButton.textContent="â˜€ï¸")})}const navToggle=document.querySelector(".nav-toggle"),navList=document.querySelector(".nav__list"),navLinks=document.querySelectorAll(".nav__link");navToggle&&navList&&(navToggle.addEventListener("click",()=>{const e=navList.classList.toggle("active");navToggle.classList.toggle("active",e),navToggle.textContent=e?"âœ–ï¸":"â˜°",navToggle.setAttribute("aria-expanded",e)}),navToggle.setAttribute("aria-expanded","false"),navLinks.forEach(e=>{e.addEventListener("click",()=>{navList.classList.contains("active")&&(navList.classList.remove("active"),navToggle.classList.remove("active"),navToggle.textContent="â˜°",navToggle.setAttribute("aria-expanded",!1))})}));const bioButtons=document.querySelectorAll(".bio-toggle");if(bioButtons.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".bio-card"),o="true"===e.getAttribute("aria-expanded");if(e.setAttribute("aria-expanded",(!o).toString()),e.textContent=o?"Read More":"Show Less",t){t.classList.toggle("expanded",!o);const e=t.querySelector(".bio-content");e&&(e.style.maxHeight=o?null:e.scrollHeight+"px")}})}),navLinks.length>0){const e=Array.from(navLinks).map(e=>document.querySelector(e.hash)).filter(Boolean),t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=e.target.id;navLinks.forEach(e=>{const o=e.hash===`#${t}`;e.classList.toggle("nav__link--active",o),o?e.setAttribute("aria-current","page"):e.removeAttribute("aria-current")})}})},{threshold:.5});e.forEach(e=>t.observe(e))}function initVideoPlaceholders(){document.querySelectorAll(".video-wrapper").forEach(e=>{const t=e.querySelector("img"),o=e.querySelector(".play-button");if(!t||!o)return;const n=e.dataset.title;if(n){const t=document.createElement("div");t.className="video-title",t.textContent=n,e.appendChild(t)}const i=()=>{const o=t.naturalWidth/t.naturalHeight;o&&e.style.setProperty("--ratio",o)};t.complete?i():t.addEventListener("load",i),o.addEventListener("click",t=>{t.preventDefault(),openModal(e)}),e.addEventListener("mouseenter",()=>showPreview(e)),e.addEventListener("mouseleave",()=>hidePreview(e))})}function openModal(e){hidePreview(e);const t=document.getElementById("video-modal");if(!t)return;const o=t.querySelector(".modal-video-container");if(!o)return;const n=`${e.dataset.src}?autoplay=1`,i=parseFloat(e.style.getPropertyValue("--ratio"))||16/9,a=.9*window.innerWidth,r=.9*window.innerHeight;let s=a,l=s/i;l>r&&(l=r,s=l*i),o.style.width=`${s}px`,o.style.height=`${l}px`,o.style.setProperty("--modal-ratio",i),o.innerHTML=`<iframe src="${n}" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen tabindex="0" title="Video player" loading="lazy"></iframe>`,t.hidden=!1,document.body.style.overflow="hidden";const d=o.querySelector("iframe");d&&d.focus();const c=()=>{const e=.9*window.innerWidth,t=.9*window.innerHeight;let n=e,a=n/i;a>t&&(a=t,n=a*i),o.style.width=`${n}px`,o.style.height=`${a}px`};window.addEventListener("resize",c),o._resizeHandler=c}function closeModal(){const e=document.getElementById("video-modal");if(!e)return;const t=e.querySelector(".modal-video-container");if(!t)return;e.hidden=!0,t.innerHTML="",t.style.width="",t.style.height="";const o=t._resizeHandler;o&&(window.removeEventListener("resize",o),delete t._resizeHandler),document.body.style.overflow=""}const modalCloseBtn=document.querySelector("#video-modal .modal-close");modalCloseBtn&&modalCloseBtn.addEventListener("click",closeModal);const modalBackdrop=document.getElementById("video-modal");modalBackdrop&&modalBackdrop.addEventListener("click",function(e){e.target===this&&closeModal()});const modalContent=document.querySelector("#video-modal .modal-content");function getPreviewSrc(e){if(!e)return"";if(e.includes("youtube")){const t=e.match(/embed\/(.*?)(\?|$)/),o=t?t[1]:"";return o?`https://www.youtube.com/embed/${o}?autoplay=1&mute=1&controls=0&loop=1&start=0&end=2&playlist=${o}`:""}return e.includes("vimeo")?`${e}?autoplay=1&muted=1&loop=1#t=0,2`:""}function showPreview(e){const t=getPreviewSrc(e.dataset.src);if(!t)return;let o=e.querySelector(".preview-iframe");o||(o=document.createElement("iframe"),o.className="preview-iframe",o.setAttribute("aria-hidden","true"),o.setAttribute("tabindex","-1"),o.allow="autoplay; muted",o.loading="lazy",e.appendChild(o)),o.src=t}function hidePreview(e){const t=e.querySelector(".preview-iframe");t&&t.remove()}function initTestimonials(){const e=document.getElementById("testimonial-slides"),t=document.querySelector(".prev-btn"),o=document.querySelector(".next-btn");if(!e||!t||!o)return;[{text:"I have worked with Michael and his team on several occasions, and from start to finish, the experience was always fantastic. Great creative thinking, detailed preparation, and highly professional execution, made this part of my projects run like clockwork. Michael and his team define 'service oriented' and the results have always been outstanding.",author:"- Jonas Bromberg, Psy.D., Principal Consultant @ Crossroads Health"},{text:"I had the pleasure of being in several projects produced by Michael in my last role. Being in front of the camera can be very intimidating, especially when having little experience, but Michael always made the process easy to understand and fun. He is professional, approachable, and down to earth in a way that made anyone working with him want to be their best. From that perspective, I would highly recommend Michael in any client/customer facing roles.",author:"- Sonya Ponder, Diversity, Equity and Inclusion Talent Acquisition Manager at Princeton University"},{text:"The last time I worked with Mike, we were under every kind of pressure possible: political, financial, creative, temporal and trying to shoot in English and French simultaneously. We wrapped half an hour early. I recommend Mike without reservation. As a director, cinematographer, collaborator and leader, heâ€™s nigh on peerless. You might think trusting an airline pilot is a big deal, but for people in my business, choosing a director is much, much hairier. As far as Iâ€™m concerned, itâ€™s Mike Kuell or we find a way to do it in print.",author:"- Dave Greeley, Partner @ McKenna and Partners"},{text:"Michael is an exceptional Executive Producer, Director and Filmmaker. His level of professionalism and focus is remarkable. As a mentor, Michael has helped me redirect my skill set towards all aspects of video production. His innate ability to communicate effectively is one of his many great strengths. During a rigorous shoot that spanned 5 cities, I was privileged to witness Michael conduct over 40 interviews with some of the nation's top psychologists.",author:"- Cathleen Carr, Creative Social Impact Leader"},{text:"Mike is one of the most versatile, professional, and driven filmmakers I've ever worked with. I've seen him do great jobs with both scripted and improv comedy, drama, and commercials as well as straight-ahead corporate. He makes the most of the actors and craftspeople he works with (and has introduced me to some excellent ones), and delivers more than expected for the budget. Even more impressive: when not working for clients, he creates interesting projects on his own. That's love.",author:"- Jay Rose, Sound Designer, Digital Playroom"}].forEach((t,o)=>{const n=document.createElement("div");n.className="testimonial-card",n.innerHTML=`<blockquote class="testimonial-quote">${t.text}</blockquote><cite class="testimonial-author">${t.author}</cite>`,0!==o&&(n.hidden=!0),e.appendChild(n)});let n=0;const i=e.children,a=e=>{Array.from(i).forEach((t,o)=>{t.hidden=o!==e})};t.addEventListener("click",()=>{n=(n-1+i.length)%i.length,a(n)}),o.addEventListener("click",()=>{n=(n+1)%i.length,a(n)}),a(n)}modalContent&&modalContent.addEventListener("click",e=>e.stopPropagation()),document.addEventListener("keydown",e=>{"Escape"===e.key&&closeModal()});